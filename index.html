<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <title>Justin's Stuff</title>

  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>

<body>
  <div class="page">
    <h1 class="hero-title">Justin Troth's Stuff</h1>

    <article class="container">
      <h2>My Interests!</h2>
      <p>Cities and transporation</p>
      <p>Electrical and computer engineering</p>
      <p>Japanese language</p>
      <p>Running</p>

      <!-- Slideshow container -->
      <div class="slideshow-container">
        <div class="slideshow"></div>
        <button class="prev">&lt;</button>
        <button class="next">&gt;</button>
      </div>

      <model-viewer src="Business_Card_Project/JT_Business_Card_v3.2.glb" 
                    alt="PCB 3D" 
                    auto-rotate camera-controls ar>
      </model-viewer>
    </article>
  </div>


  <script>
    console.log("Script is running!");
    // ---- HERO TITLE SCROLL FADE ----
    const hero = document.querySelector('.hero-title');
    if (!hero) console.warn("Hero title not found!");

    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      const fadePoint = 200;
      const opacity = Math.max(0, 1 - scrollY / fadePoint);
      if (hero) hero.style.opacity = opacity;

      // DEBUG
      console.log("ScrollY:", scrollY, "Hero opacity:", opacity);
    });

    // ---- BACKGROUND SLIDESHOW ----
    window.addEventListener('DOMContentLoaded', () => {
      const images = [];
      for (let i = 1; i <= 10; i++) {
        images.push(`Cities_Photos/photo${i}.JPEG`);
      }

      let current = 0;
      const slide = document.querySelector('.slideshow');
      if (!slide) return;

      // Preload images
      images.forEach(src => new Image().src = src);

      function changeSlide() {
        slide.style.opacity = 0; // fade out
        setTimeout(() => {
          slide.style.backgroundImage = `url(${images[current]})`;
          slide.style.opacity = 1; // fade in
          current = (current + 1) % images.length;
        }, 500); // fade duration
      }

      // initial image
      slide.style.backgroundImage = `url(${images[current]})`;
      current++;
      setInterval(changeSlide, 5000);
    });
  </script>
</body>

</html>